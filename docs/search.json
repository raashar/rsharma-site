[
  {
    "objectID": "electionproj.html",
    "href": "electionproj.html",
    "title": "Election Project (Mapmaking)",
    "section": "",
    "text": "Today, we’re going to learn how to make interactive maps in R using the mapview package. We’ll be visualizing election results for Virginia governor and president. The data are broken down by county level.\nFirst off, we’ll need to load our packages and our election data.\n\n\nCode\nlibrary(sf)\nlibrary(mapview)\nlibrary(tmap)\nlibrary(tmaptools)\nlibrary(htmltools)\nlibrary(rmapshaper)\nlibrary(tigris)\nlibrary(tidycensus)\nlibrary(writexl)\nlibrary(jsonlite)\noptions(tigris_class = \"sf\")\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(kableExtra)\nlibrary(here)\noptions(scipen = 999)\noptions(stringsAsFactors = FALSE)\n\n\n#load saved joined data file from previous script\njoined_vacomparison <- readRDS(here(\"processed_data\", \"joined_vacomparison.rds\"))"
  },
  {
    "objectID": "electionproj.html#visualizing-the-areas-in-which-democrats-won-by-a-higher-margin-governor",
    "href": "electionproj.html#visualizing-the-areas-in-which-democrats-won-by-a-higher-margin-governor",
    "title": "Election Project (Mapmaking)",
    "section": "Visualizing the areas in which Democrats won by a higher margin (Governor)",
    "text": "Visualizing the areas in which Democrats won by a higher margin (Governor)\nTo see where McAuliffe won over Youngkin, we’ll first need to attach geometries to the VA dataset. This will allow us to make interactive maps.\nTo do so, we’ll use the tigris package to get the geometries for Virginia counties and join that to our VA dataset.\nI also used the janitor package to round the percentages so they are a bit cleaner and easier to understand.\n\n\nCode\nva_counties_geo <- tigris::counties(state = \"VA\", resolution = \"20m\", cb = TRUE)\n\n\nRetrieving data for the year 2021\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |======================================================================| 100%\n\n\nCode\nva_counties_geo$NAMELSAD = toupper(va_counties_geo$NAMELSAD)\n\nva_elections_sf = va_counties_geo %>%\n  left_join(. , joined_vacomparison, by=c(\"NAMELSAD\"=\"locality\"))\n\nva_elections_sf = va_elections_sf %>% mutate(\n    dem_gov_margin = janitor::round_half_up(dem_gov_margin, 2)\n  )\n\nva_elections_sf = va_elections_sf %>% mutate(\n    dem_pres_margin = janitor::round_half_up(dem_pres_margin, 2)\n  )\n\n\nNow, we’ll actually make a map of the Democratic margins for Governor.\nWe’ll first make a label using the glue and htmltools packages. This will show the county name and margin by which McAuliffe won (or lost) compared to Youngkin. We’ll need the dem_gov_margin variable to do so.\n\n\nCode\nmylabel1 = glue::glue(\"<strong>{va_elections_sf$NAMELSAD}</strong><br />\n                      Democratic Margin for Governor: {va_elections_sf$dem_gov_margin}<br />\") %>% \n  lapply(htmltools::HTML)\n\nmap1 = mapview(va_elections_sf, zcol = \"dem_gov_margin\",\n               col.regions = RColorBrewer::brewer.pal(9, \"PuBuGn\"),\n               alpha.regions = 1,\n               label = mylabel1,\n               legend = F)\n\n\nWarning: Found less unique colors (9) than unique zcol values (131)! \nInterpolating color vector to match number of zcol values.\n\n\nCode\nmap1\n\n\n\n\n\n\n\nThis map helps us visualize how different counties vote very differently. While some pockets in the state’s center, North, and East regions overwhelmingly voted for the Democratic candidate for Governor, a majority chose the Republican candidate."
  },
  {
    "objectID": "electionproj.html#visualizing-the-areas-in-which-democrats-won-by-a-higher-margin-president",
    "href": "electionproj.html#visualizing-the-areas-in-which-democrats-won-by-a-higher-margin-president",
    "title": "Election Project (Mapmaking)",
    "section": "Visualizing the areas in which Democrats won by a higher margin (President)",
    "text": "Visualizing the areas in which Democrats won by a higher margin (President)\nNow, we’ll do the same and make a map of the Democratic margins for President.\n\n\nCode\nmylabel2 = glue::glue(\"<strong>{va_elections_sf$NAMELSAD}</strong><br />\n                      Democratic Margin for President: {va_elections_sf$dem_pres_margin}<br />\") %>% \n  lapply(htmltools::HTML)\n\nmap2 = mapview(va_elections_sf, zcol = \"dem_pres_margin\",\n               col.regions = RColorBrewer::brewer.pal(9, \"PuBuGn\"),\n               alpha.regions = 1,\n               label = mylabel2,\n               legend = F)\n\n\nWarning: Found less unique colors (9) than unique zcol values (131)! \nInterpolating color vector to match number of zcol values.\n\n\nCode\nmap2\n\n\n\n\n\n\n\nHere, we see the results largely mirror those for Governor. However, we see some counties (in the Southeast, particularly) have a greater Democratic margin for President than for Governor."
  },
  {
    "objectID": "tidywalkthrough.html",
    "href": "tidywalkthrough.html",
    "title": "Using Tidycensus to Make Maps in R: A Walkthrough",
    "section": "",
    "text": "First things first, let’s go ahead and reach into our library and load all necessary packages, namely tidycensus."
  },
  {
    "objectID": "tidywalkthrough.html#creating-a-dataframe",
    "href": "tidywalkthrough.html#creating-a-dataframe",
    "title": "Using Tidycensus to Make Maps in R: A Walkthrough",
    "section": "Creating a Dataframe",
    "text": "Creating a Dataframe\nNow, because we are going to make maps to visualize income inequality across the US, we’ll need to create a dataset that breaks median household income down by state and includes the shapefile info needed to generate a map in mapview.\nWe do this by once again using the get_acs() function, whose arguments include geography, variables, output, and geometry. Here’s a breakdown of what these mean:\n\ngeography = “state”: we pull data at the state-level\nvariables = c(acs_vars): we use the variables we pulled previously (median_income, aggregate_income) in our dataset\noutput = “wide”: This makes data easier to read by pivoting wide\ngeometry = TRUE: This includes all shapefile data necessary to make a map\n\n\n\nCode\n# pull for US states\nus_native_income <- get_acs(geography = \"state\",\n                               variables = c(acs_vars),\n                               output = \"wide\",\n                               geometry = TRUE)\n\n\nGetting data from the 2017-2021 5-year ACS\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |==                                                                    |   4%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================| 100%\n\n\nCode\nhead(us_native_income)\n\n\nSimple feature collection with 6 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -179.1489 ymin: 33.00429 xmax: 179.7785 ymax: 71.36516\nGeodetic CRS:  NAD83\n  GEOID         NAME median_incomeE median_incomeM aggregate_incomeE\n1    56      Wyoming          54363           6016         238400300\n2    02       Alaska          53061           2118        2062309500\n3    24     Maryland          76025           7661         535591000\n4    05     Arkansas          43386           2920         345330000\n5    38 North Dakota          40489           4323         645661900\n6    10     Delaware          51661           5403          95905400\n  aggregate_incomeM                       geometry\n1          39202023 MULTIPOLYGON (((-111.0546 4...\n2          85529516 MULTIPOLYGON (((179.4825 51...\n3          58775225 MULTIPOLYGON (((-76.05015 3...\n4          33235631 MULTIPOLYGON (((-94.61792 3...\n5          48678105 MULTIPOLYGON (((-104.0487 4...\n6          23654496 MULTIPOLYGON (((-75.56555 3..."
  },
  {
    "objectID": "tidywalkthrough.html#creating-a-dataframe-1",
    "href": "tidywalkthrough.html#creating-a-dataframe-1",
    "title": "Using Tidycensus to Make Maps in R: A Walkthrough",
    "section": "Creating a Dataframe",
    "text": "Creating a Dataframe\nPulling for all US states, like before:\n\n\nCode\nus_white_income <- get_acs(geography = \"state\",\n                               variables = c(acs_vars2),\n                               output = \"wide\",\n                               geometry = TRUE)\n\n\nGetting data from the 2017-2021 5-year ACS\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\nCode\nhead(us_white_income)\n\n\nSimple feature collection with 6 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -179.1489 ymin: 33.00429 xmax: 179.7785 ymax: 71.36516\nGeodetic CRS:  NAD83\n  GEOID         NAME median_incomeE median_incomeM aggregate_incomeE\n1    56      Wyoming          68965           1127       18759572300\n2    02       Alaska          87920           1282       20543389900\n3    24     Maryland         101579            715      175541416900\n4    05     Arkansas          55985            556       70014969200\n5    38 North Dakota          71755           1080       25774144700\n6    10     Delaware          78491           1224       27498115400\n  aggregate_incomeM                       geometry\n1         359127001 MULTIPOLYGON (((-111.0546 4...\n2         284978409 MULTIPOLYGON (((179.4825 51...\n3        1250297569 MULTIPOLYGON (((-76.05015 3...\n4         917428187 MULTIPOLYGON (((-94.61792 3...\n5         372805071 MULTIPOLYGON (((-104.0487 4...\n6         418809034 MULTIPOLYGON (((-75.56555 3..."
  },
  {
    "objectID": "walkthrough.html",
    "href": "walkthrough.html",
    "title": "Analysis Walkthrough Example",
    "section": "",
    "text": "Getting Started\nThis walkthrough will cover how you can visualize data in map form! This includes Census data through the tidycensus package. We’ll go through customization as well.\nTo begin, we must load our packages.\n\n\nChoosing Variables\nWe’ll be using the tidycensus package to pull both census data, as well as geospatial boundaries.\nIn order to access the data used in this walkthrough, we’ll need a Census API. You can learn how to install and use one here.\n\n\n\nNow, we choose variables we want to use from the American Community Survey, conducted by the US Census Bureau. There are many to choose from, and we can look at them by using the load_variables() function.\nI assigned it to a variable called acs. Since there are lots of variables, it’s helpful to view the entire acs dataframe and see the descriptions. We will pull total population (assigned to the totalpop variable), median household income (assigned to medincome), and medage (median age).\nThe c() function creates a vector with these variable names, and we are assigning it to the myvars variable.\n\n\nCode\n#chose variables we want\nmyvars <- c(totalpop = \"B01003_001\",\n            medincome = \"B19013_001\",\n            medage = \"B01002_001\"\n)\n\n\n\n\nCreating a New Dataframe\nNow, we pull the information for GA counties. To do so, we use the get_acs() function. The arguments are as follows:\n\ngeography = “county”: we pull data for each county\nvariables = c(myvars): we use the variables we pulled previously (medincome, totalpop, medage) in our dataframe\nstate = “GA”: We are pulling state data for GA\noutput = “wide”: This makes data easier to read by pivoting wide\ngeometry = TRUE: This includes all shapefile data necessary to make a map\n\nWe’re assigning this to ga_counties_withgeo\n\n\nCode\n#pull for GA counties\nga_counties_withgeo <- get_acs(geography = \"county\",\n                       variables = c(myvars),\n                       state = \"GA\",\n                       output = \"wide\",\n                       geometry = TRUE)\n\n\nGetting data from the 2017-2021 5-year ACS\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |==                                                                    |   4%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |============================================                          |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |============================================                          |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |======================================================================| 100%\n\n\nCode\nga_counties_withgeo\n\n\nSimple feature collection with 159 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -85.60516 ymin: 30.35785 xmax: -80.84038 ymax: 35.00124\nGeodetic CRS:  NAD83\nFirst 10 features:\n   GEOID                      NAME totalpopE totalpopM medincomeE medincomeM\n1  13021      Bibb County, Georgia    156711        NA      43862       1778\n2  13049  Charlton County, Georgia     12416        NA      45494       5791\n3  13283  Treutlen County, Georgia      6410        NA      35441       9710\n4  13309   Wheeler County, Georgia      7568        NA      26776       3605\n5  13279    Toombs County, Georgia     26956        NA      42975       3095\n6  13077    Coweta County, Georgia    144928        NA      83486       2974\n7  13153   Houston County, Georgia    161177        NA      70313       3057\n8  13183      Long County, Georgia     16398        NA      52742       8858\n9  13163 Jefferson County, Georgia     15708        NA      42238       4150\n10 13261    Sumter County, Georgia     29690        NA      36687       2163\n   medageE medageM                       geometry\n1     36.2     0.3 MULTIPOLYGON (((-83.89192 3...\n2     40.6     1.5 MULTIPOLYGON (((-82.4156 31...\n3     39.9     5.3 MULTIPOLYGON (((-82.74762 3...\n4     33.6    10.0 MULTIPOLYGON (((-82.93976 3...\n5     37.8     0.9 MULTIPOLYGON (((-82.48038 3...\n6     38.9     0.3 MULTIPOLYGON (((-85.0132 33...\n7     35.9     0.3 MULTIPOLYGON (((-83.85685 3...\n8     33.7     0.8 MULTIPOLYGON (((-81.98162 3...\n9     40.5     0.8 MULTIPOLYGON (((-82.66192 3...\n10    37.0     1.1 MULTIPOLYGON (((-84.44381 3...\n\n\nWe can also get all counties in the US, but be mindful that this would be a bit difficult to visualize on a map.\n\n\nCode\n#all counties in the US\nall_counties_withgeo <- get_acs(geography = \"county\",\n                       variables = c(myvars),\n                       output = \"wide\",\n                       geometry = TRUE)\n\n\nGetting data from the 2017-2021 5-year ACS\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\nCode\nhead(all_counties_withgeo)\n\n\nSimple feature collection with 6 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -111.6345 ymin: 39.04326 xmax: -91.52874 ymax: 45.63864\nGeodetic CRS:  NAD83\n  GEOID                      NAME totalpopE totalpopM medincomeE medincomeM\n1 20161      Riley County, Kansas     72602        NA      53296       2489\n2 19159     Ringgold County, Iowa      4739        NA      57700       5058\n3 30009    Carbon County, Montana     10488        NA      63178       4261\n4 16007   Bear Lake County, Idaho      6327        NA      60337       7039\n5 55011 Buffalo County, Wisconsin     13314        NA      61167       2352\n6 31185     York County, Nebraska     14164        NA      66337       4128\n  medageE medageM                       geometry\n1    25.5     0.1 MULTIPOLYGON (((-96.96095 3...\n2    44.3     1.0 MULTIPOLYGON (((-94.47167 4...\n3    50.7     0.9 MULTIPOLYGON (((-109.7987 4...\n4    38.9     1.1 MULTIPOLYGON (((-111.6345 4...\n5    46.5     0.5 MULTIPOLYGON (((-92.08384 4...\n6    39.5     1.2 MULTIPOLYGON (((-97.82629 4...\n\n\nAs you can see in the results above, there are E and M columns. The ones ending in “M” are margin of error columns, which we do not need for this analysis. So, we shall remove the column with the select() function. The - symbol cuts columns, and the ends_with() function identifies those ending in “M”.\n\n\nCode\n#remove MOE columns - they all end with \"M\"\nga_counties_withgeo <- ga_counties_withgeo %>%\n  select(-ends_with(\"M\"))\n\nga_counties_withgeo\n\n\nSimple feature collection with 159 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -85.60516 ymin: 30.35785 xmax: -80.84038 ymax: 35.00124\nGeodetic CRS:  NAD83\nFirst 10 features:\n   GEOID                      NAME totalpopE medincomeE medageE\n1  13021      Bibb County, Georgia    156711      43862    36.2\n2  13049  Charlton County, Georgia     12416      45494    40.6\n3  13283  Treutlen County, Georgia      6410      35441    39.9\n4  13309   Wheeler County, Georgia      7568      26776    33.6\n5  13279    Toombs County, Georgia     26956      42975    37.8\n6  13077    Coweta County, Georgia    144928      83486    38.9\n7  13153   Houston County, Georgia    161177      70313    35.9\n8  13183      Long County, Georgia     16398      52742    33.7\n9  13163 Jefferson County, Georgia     15708      42238    40.5\n10 13261    Sumter County, Georgia     29690      36687    37.0\n                         geometry\n1  MULTIPOLYGON (((-83.89192 3...\n2  MULTIPOLYGON (((-82.4156 31...\n3  MULTIPOLYGON (((-82.74762 3...\n4  MULTIPOLYGON (((-82.93976 3...\n5  MULTIPOLYGON (((-82.48038 3...\n6  MULTIPOLYGON (((-85.0132 33...\n7  MULTIPOLYGON (((-83.85685 3...\n8  MULTIPOLYGON (((-81.98162 3...\n9  MULTIPOLYGON (((-82.66192 3...\n10 MULTIPOLYGON (((-84.44381 3...\n\n\n…we’ll also remove that trailing “E” from the estimate columns, which we will use for analysis. The sub function allows us to do so. E$ means the E at the end of the variable will be removed.\n\n\nCode\n#remove that trailing \"E\"\ncolnames(ga_counties_withgeo) <- sub(\"E$\", \"\", colnames(ga_counties_withgeo)) # $ means end of string only\n\nga_counties_withgeo\n\n\nSimple feature collection with 159 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -85.60516 ymin: 30.35785 xmax: -80.84038 ymax: 35.00124\nGeodetic CRS:  NAD83\nFirst 10 features:\n   GEOID                       NAM totalpop medincome medage\n1  13021      Bibb County, Georgia   156711     43862   36.2\n2  13049  Charlton County, Georgia    12416     45494   40.6\n3  13283  Treutlen County, Georgia     6410     35441   39.9\n4  13309   Wheeler County, Georgia     7568     26776   33.6\n5  13279    Toombs County, Georgia    26956     42975   37.8\n6  13077    Coweta County, Georgia   144928     83486   38.9\n7  13153   Houston County, Georgia   161177     70313   35.9\n8  13183      Long County, Georgia    16398     52742   33.7\n9  13163 Jefferson County, Georgia    15708     42238   40.5\n10 13261    Sumter County, Georgia    29690     36687   37.0\n                         geometry\n1  MULTIPOLYGON (((-83.89192 3...\n2  MULTIPOLYGON (((-82.4156 31...\n3  MULTIPOLYGON (((-82.74762 3...\n4  MULTIPOLYGON (((-82.93976 3...\n5  MULTIPOLYGON (((-82.48038 3...\n6  MULTIPOLYGON (((-85.0132 33...\n7  MULTIPOLYGON (((-83.85685 3...\n8  MULTIPOLYGON (((-81.98162 3...\n9  MULTIPOLYGON (((-82.66192 3...\n10 MULTIPOLYGON (((-84.44381 3...\n\n\n\n\nMapping GA counties with Mapview\nOur first simple maps use mapview(). It takes our dataframe (ga_counties_withgeo) and variables (zcol) as arguments. As you can see, the first map shows median income and the second shows median age in each GA county.\n\n\nCode\nmapview(ga_counties_withgeo, zcol = \"medincome\")\n\n\n\n\n\n\n\nCode\nmapview(ga_counties_withgeo, zcol = \"medage\")\n\n\n\n\n\n\n\n\n\nCustomizing\nTo jazz things up a bit, let’s change from the default theme. We do so by adding an argument called col.regions. This utilizes the RColorBrewer package, which houses different dicrete and continuous palettes. We are using the “Greens” palette. Below is a map showing median income with a different palette.\n\n\nCode\nmapview(ga_counties_withgeo, zcol = \"medincome\", \n         col.regions = RColorBrewer::brewer.pal(9, \"Greens\"), \n         alpha.regions = 1)\n\n\nWarning: Found less unique colors (9) than unique zcol values (159)! \nInterpolating color vector to match number of zcol values.\n\n\n\n\n\n\n\nThis map’s dark background appeared automatically, because mapview determined the map included a lot of light colors. You can turn off that feature with the following code. It makes things easier to understand.\n\n\nCode\nmapviewOptions(\"basemaps.color.shuffle\" = FALSE)\n\n\nHere’s a new map with the light background.\n\n\nCode\nmapview(ga_counties_withgeo, zcol = \"medincome\", \n         col.regions = RColorBrewer::brewer.pal(9, \"Greens\"), \n         alpha.regions = 1)\n\n\nWarning: Found less unique colors (9) than unique zcol values (159)! \nInterpolating color vector to match number of zcol values.\n\n\n\n\n\n\n\nWe can also compare two maps at the same time! You’ll need to assign the code used to create the map to do this. map_income is our map of median household income in GA counties, while map_age is our map of median age in GA counties.\n\n\nCode\nmap_income <- mapview(ga_counties_withgeo, zcol = \"medincome\", \n         col.regions = RColorBrewer::brewer.pal(9, \"Greens\"), \n         alpha.regions = 1)\n\n\nWarning: Found less unique colors (9) than unique zcol values (159)! \nInterpolating color vector to match number of zcol values.\n\n\nCode\nmap_age <- mapview(ga_counties_withgeo, zcol = \"medage\", \n         col.regions = RColorBrewer::brewer.pal(9, \"Greens\"), \n         alpha.regions = 1)\n\n\nWarning: Found less unique colors (9) than unique zcol values (97)! \nInterpolating color vector to match number of zcol values.\n\n\nThe sync() function shows two maps together, like so:\n\n\nCode\n# two maps together\nsync(map_income, map_age)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe may also include a side-by-side slider by separating the map variables with the “|” symbol. This is from the leaflet.extras2 package.\n\n\nCode\nmap_income | map_age\n\n\n\n\n\n\n\nFinally, we can also turn off legends for a cleaner apperance. Make sure your map is interpretable without a legend, however. You want to include an accessible visualization in your projects!\n\n\nCode\nmapview(ga_counties_withgeo, zcol = \"medincome\", \n         col.regions = RColorBrewer::brewer.pal(9, \"Greens\"), \n         alpha.regions = 1,\n         legend = FALSE)\n\n\nWarning: Found less unique colors (9) than unique zcol values (159)! \nInterpolating color vector to match number of zcol values."
  },
  {
    "objectID": "assignment_chartsmaps_sharma.html",
    "href": "assignment_chartsmaps_sharma.html",
    "title": "R Charts and Maps Assignment",
    "section": "",
    "text": "Introduction\nFor this assignment you’ll be making a few charts and maps using the ggplot2 and tmap packages we discussed in the last class session.\nTo help in your efforts, do feel free to make use of and adapt the materials we went over in class, which are located here.\nThe data used for this assignment includes Georgia election results by county for U.S. Senate and Governor in 2022, President in 2020, and then some of the same socioeconomic factors we’ve looked at other contexts so far during the semester.\n\nLoading the Data\nThe first step is to load in the data, which is stored in the ga_votes.xlsx Excel file that’s included in this repository. As you’ll see if you open the spreadsheet itself, there are two tabs - one contains the senate results, and one contains the governor results.\nWe’ll load them separately into two datasets to be used for the remainder of this assignment.\n\n#import the GA election data for this assignment\n\n#GA senate\nsenate_results <- read_excel(here(\"ga_votes.xlsx\"), sheet = \"senate\")\n\n#GA governor\ngovernor_results <- read_excel(here(\"ga_votes.xlsx\"), sheet = \"governor\")\n\nTwo columns in particular to highlight that we’ll use to examine how the Republican Senate and Governor candidates did compared with former President Trump’s performance in 2020:\n\npct_r_above_trump. This column calculates the difference in percentage points between what the 2022 Republican candidate got (pct_r_2022) and what Trump got two years earlier (pct_r_2020). A negative value means the candidate did worse than Trump, a positive value means they did better.\nis_r_above_trump. This companion columns is a so-called “flag” column, which provides a Yes/No as to whether the Republican candidate did better or worse than Trump. In other words, is the pct_r_above_trump value positive or negative.\n\n\n\n\nCharts\nFor this section use the ggplot2 package to create your charts.\n1)\nFor the Senate race, create a column/bar chart that shows how many counties the Republican candidate did better vs. worse than Trump.\n\nsenate_results = senate_results %>%\n  mutate(\n    is_r_above_trump_new = ifelse(is_r_above_trump==\"Y\", \"Better\", \"Worse\")\n  )\n\nplot1 = ggplot(senate_results, aes(x = is_r_above_trump_new)) + \n  geom_bar(fill = \"#9ebcda\") +\n  xlab(\"Performance\") +\n  ylab(\"Number of counties\") +\n  labs(title = \"Republican senate candidate performance\\ncompared to Trump in GA counties\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot1\n\n\n\n\n2)\nNow do the same as Question 1, just this time do it for the race for Governor.\n\ngovernor_results = governor_results %>%\n  mutate(\n    is_r_above_trump_new = ifelse(is_r_above_trump==\"Y\", \"Better\", \"Worse\")\n  )\n\nplot2 = ggplot(governor_results, aes(x = is_r_above_trump_new)) + \n  geom_bar(fill = \"#9ebcda\") +\n  xlab(\"Performance\") +\n  ylab(\"Number of counties\") +\n  labs(title = \"Republican governor candidate performance\\ncompared to Trump in GA counties\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot2\n\n\n\n\n3)\nFor the Senate race, create a chart that shows the top 10 biggest drops between the Republican candidate and Trump (i.e. the 10 counties with the most substantial negative numbers in pct_r_above_trump). Remember that you can slice off a certain number of rows using the head() function, i.e. head(5), head(20), etc.\nYour chart should be sorted from the biggest drop to the smallest among the top 10 counties.\n\nsenate_drops = senate_results %>%\n  group_by(county) %>%\n  summarize(pct_r_above_trump = pct_r_above_trump) %>%\n  arrange(pct_r_above_trump) %>%\n  head(10)\n\nplot3 = senate_drops %>%\n  arrange(pct_r_above_trump) %>%\n  ggplot(aes(x = reorder(county, desc(pct_r_above_trump)), y = pct_r_above_trump)) + \n  geom_col(fill = \"#9ebcda\") +\n  coord_flip() + \n  xlab(\"Counties\") +\n  ylab(\"Percentage\") +\n  labs(title = \"Highest drops between Republican candidates\\nand Trump in GA counties (Top 10)\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot3\n\n\n\n\n4)\nFor the Senate race, create a chart that shows the top 10 counties highest margins of victory for the Democratic candidate. To do that you’ll need to compare the Democratic candidate’s percentage (pct_d_2022) with the Republican’s (pct_r_2022) to calculate the margin of victory for each county.\n\nsenate_results = senate_results %>%\n  mutate(\n    d_margin = pct_d_2022 - pct_r_2022\n  )\n\ndem_margin_s = senate_results %>%\n  group_by(county) %>%\n  summarize(d_margin = d_margin) %>%\n  arrange(desc(d_margin)) %>%\n  head(10)\n\nplot4 = dem_margin_s %>%\n  arrange(desc(d_margin)) %>%\n  ggplot(aes(x = reorder(county, d_margin), y = d_margin)) + \n  geom_col(fill = \"#9ebcda\") +\n  coord_flip() + \n  xlab(\"Counties\") +\n  ylab(\"Democratic margin of victory percentage\") +\n  labs(title = \"Highest Democratic margins of victory\\nfor senate race in GA counties (Top 10)\",\n       subtitle = \"2022\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot4\n\n\n\n\n5)\nNow do the same as Question 4, only this time for the race for Governor instead.\n\ngovernor_results = governor_results %>%\n  mutate(\n    d_margin = pct_d_2022 - pct_r_2022\n  )\n\ndem_margin_g = governor_results %>%\n  group_by(county) %>%\n  summarize(d_margin = d_margin) %>%\n  arrange(desc(d_margin)) %>%\n  head(10)\n\nplot5 = dem_margin_g %>%\n  arrange(desc(d_margin)) %>%\n  ggplot(aes(x = reorder(county, d_margin), y = d_margin)) + \n  geom_col(fill = \"#9ebcda\") +\n  coord_flip() + \n  xlab(\"Counties\") +\n  ylab(\"Democratic margin of victory percentage\") +\n  labs(title = \"Highest Democratic margins of victory\\nfor governor race in GA counties (Top 10)\",\n       subtitle = \"2022\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot5\n\n\n\n\n6)\nExtra credit: determine the top 10 counties with the biggest differences between what the Republican candidate for Governor received and what the Senate candidate received.\n(Note that to accomplish this you’ll have to first run a join that merges the two datasets, so that you have both the senate and governor version of the pct_r_2022 column in the same table.)\n\n# .x are senate results; .y are governor results\nsen_gov_results = inner_join(senate_results, governor_results, by=c(\"county\"=\"county\"))\n\nsen_gov_results = sen_gov_results %>% \n  mutate(pct_r_diff = pct_r_2022.y - pct_r_2022.x)\n\nr_diff = sen_gov_results %>%\n  group_by(county) %>%\n  summarize(pct_r_diff = pct_r_diff) %>%\n  arrange(desc(pct_r_diff)) %>%\n  head(10)\n\nplot6 = r_diff %>%\n  arrange(desc(pct_r_diff)) %>%\n  ggplot(aes(x = reorder(county, pct_r_diff), y = pct_r_diff)) + \n  geom_col(fill = \"#9ebcda\") +\n  coord_flip() + \n  xlab(\"Counties\") +\n  ylab(\"Percent difference\") +\n  labs(title = \"Pct differences between Republican senate\\nand governor candidates in GA counties (Top 10)\",\n       subtitle = \"2022\") +\n  theme_clean() + \n  theme(plot.title=element_text(size=14))\n\nplot6\n\n\n\n\n\n\nMaps\nFor this section use the tmap package to create your charts.\nTo help start things out for you, we’re going to download a geospatial/map dataset with the county boundaries for Georgia. We’ll use the tigris package to do this.\n\ncounties_geo <- tigris::counties(state = \"GA\", resolution = \"20m\", cb = TRUE)\n\nRetrieving data for the year 2021\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |==============================                                        |  44%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================| 100%\n\n\nNow let’s take a look at what we have, by mapping out the polygons of the Georgia counties using the tmap package.\n\ntm_shape(counties_geo) + \n  tm_polygons()\n\n\n\n\nGreat, it looks like we should be good to go. Use the newly created map data in counties_geo along with our election results datasets to complete the questions below.\n7)\nFor the Senate race, create a choropleth (shaded) map of Georgia counties that shows where the Republican candidate for Senate did better vs. worse than Trump.\n\nnew_senate_sf = counties_geo %>%\n  left_join(. , senate_results, by=c(\"NAME\"=\"county\"))\n\nmap1 = tm_shape(new_senate_sf) + \n  tm_fill(col=\"pct_r_above_trump\", title = \"Percent difference from Trump\") + \n  tm_layout(main.title = \"Republican senate candidate performance\\ncompared to Trump in GA counties\",\n            main.title.size = 1.3,\n            legend.outside = TRUE,\n            legend.outside.size = 0.5,\n            legend.text.size = 1) + \n  tm_polygons()\n\nmap1\n\nWarning: One tm layer group has duplicated layer types, which are omitted. To\ndraw multiple layers of the same type, use multiple layer groups (i.e. specify\ntm_shape prior to each of them).\n\n\nVariable(s) \"pct_r_above_trump\" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.\n\n\n\n\n\n8)\nNow do the same as Question 7, just this time do it for the race for Governor.\n\nnew_governor_sf = counties_geo %>%\n  left_join(. , governor_results, by=c(\"NAME\"=\"county\"))\n\nmap2 = tm_shape(new_governor_sf) + \n  tm_fill(col=\"pct_r_above_trump\", title = \"Percent difference from Trump\") + \n  tm_layout(main.title = \"Republican governor candidate performance\\ncompared to Trump in GA counties\",\n            main.title.size = 1.3,\n            legend.outside = TRUE,\n            legend.outside.size = 0.5,\n            legend.text.size = 1) + \n  tm_polygons()\n\n\nmap2\n\nWarning: One tm layer group has duplicated layer types, which are omitted. To\ndraw multiple layers of the same type, use multiple layer groups (i.e. specify\ntm_shape prior to each of them).\n\n\nVariable(s) \"pct_r_above_trump\" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.\n\n\n\n\n\n9)\nFor the Senate race, create a choropleth map that shows the margins of victory for the Democratic candidate. To do that you’ll need to compare the Democratic candidate’s percentage (pct_d_2022) with the Republican’s (pct_r_2022) to calculate the margin of victory for each county.\n\nmap3 = tm_shape(new_senate_sf) + \n  tm_fill(col=\"d_margin\", title = \"Democratic margin of victory percentages\") + \n  tm_layout(main.title = \"Senate margins of victory for\\nDemocratic candidates in GA counties\",\n            main.title.size = 1.3,\n            legend.outside = TRUE,\n            legend.outside.size = 0.4,\n            legend.text.size = 1) + \n  tm_polygons()\n\nmap3\n\nWarning: One tm layer group has duplicated layer types, which are omitted. To\ndraw multiple layers of the same type, use multiple layer groups (i.e. specify\ntm_shape prior to each of them).\n\n\nVariable(s) \"d_margin\" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.\n\n\n\n\n\n10)\nNow do the same as Question 4, only this time for the race for Governor instead.\n\nmap4 = tm_shape(new_governor_sf) + \n  tm_fill(col=\"d_margin\", title = \"Democratic margin of victory percentages\") + \n  tm_layout(main.title = \"Governor margins of victory for\\nDemocratic candidates in GA counties\",\n            main.title.size = 1.3,\n            legend.outside = TRUE,\n            legend.outside.size = 0.5,\n            legend.text.size = 1) + \n  tm_polygons()\n\nmap4\n\nWarning: One tm layer group has duplicated layer types, which are omitted. To\ndraw multiple layers of the same type, use multiple layer groups (i.e. specify\ntm_shape prior to each of them).\n\n\nVariable(s) \"d_margin\" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.\n\n\n\n\n\n11)\nExtra credit: determine the biggest differences between what the Republican candidate for Governor received and what the Senate candidate received. Then create a choropleth map of Georgia counties that shows those differences.\n(Note that to accomplish this you’ll have to first run a join that merges the two datasets, so that you have both the senate and governor version of the pct_r_2022 column in the same table.)\n\nsen_gov_sf = counties_geo %>%\n  left_join(. , sen_gov_results, by=c(\"NAME\"=\"county\"))\n\nmap5 = tm_shape(sen_gov_sf) + \n  tm_fill(col=\"pct_r_diff\", title = \"Percent difference\") + \n  tm_layout(main.title = \"Percent differences between Republican senate\\nand governor candidates in GA counties\",\n            main.title.size = 1.1,\n            legend.outside = TRUE,\n            legend.outside.size = 0.5,\n            legend.text.size = 1) + \n  tm_polygons()\n\nmap5\n\nWarning: One tm layer group has duplicated layer types, which are omitted. To\ndraw multiple layers of the same type, use multiple layer groups (i.e. specify\ntm_shape prior to each of them)."
  },
  {
    "objectID": "breaking.html",
    "href": "breaking.html",
    "title": "Sample Breaking News Story",
    "section": "",
    "text": "Breaking News: Access to Abortion Decreases Across the Country\n* This is an example breaking news story regarding abortion access that uses inline R code *\nOn Thursday, May 4, North Carolina approved legislation banning almost all abortions after 12 weeks. North Carolina is following the lead of Florida, North Dakota, and 12 other states who enacted abortion bans after the Supreme Court overturned Roe v. Wade in June.\nThe North Carolina Senate voted 29-20 to approve the ban. However, the governor has 10 days to decide whether to veto it or not.\nThe Republican party can still override the veto if they receive an adequate number of votes.\nDeSantis’s strict legislation bans abortions after 6 weeks in Florida, even though one in three people do not know they are pregnant until after this period. Hailed as a refuge for those in the Deep South seeking abortions, Florida is now scaling back on its protections.\nThis news comes as an increasing number of restrictions have been placed on abortion access. On April 8, a Texas federal judge ruled that mifepristone, a key medication used to end pregnancy within 10 weeks, violated a federal rule.\nThough the Supreme Court temporarily preserved access to these pills, the future of reproductive health hangs in the balance, especially as states like Alabama, Texas, and Missouri uphold pre-Roe trigger bans that include civil and criminal penalties for seeking and performing abortions.\nAn average of 11.31 percent of people receive abortions nationwide, with the highest average, 19.73 percent, being among women aged 20 to 24.\nWith reproductive health under threat, Americans are mobilizing to maintain protections. In response to Florida’s ban, a coalition of organizers is aiming to reduce “government interference with abortion” by placing a measure for abortion access on the ballot next year.\n\nYou can see the code I used for the inline statistics by viewing the breaking.qmd page in my github repository here."
  },
  {
    "objectID": "academic.html",
    "href": "academic.html",
    "title": "Academic Work",
    "section": "",
    "text": "This is a paper I wrote which discusses objectivity in journalism through the lenses of advocacy journalism, campaign journalism, and the purported ideal of scientific objectivity in reporting.\n_________________________________________\nFrom its start, journalism has significantly developed, becoming more nuanced and expansive as reporters and the public interact together in the production and dissemination of news. For decades, one of journalism’s mainstays throughout the coverage of increasingly complex events has been objectivity. For both the newsroom and consumers of news, objectivity has cemented itself as a tenet of journalism and as the foundation of accurate, precise reporting. In recent years and especially in the wake of the 2020 Black Lives Matter protests, this canon within the media has transformed and branched out into various forms, including advocacy journalism, campaign journalism, and the search for scientific-like objectivity. To understand these three, examining discussions by various scholars and the hard, reported news that reflects these different perspectives is necessary. By doing so, readers may be able to further understand existing divisions of objectivity and how they operate in different journalistic spheres.  \n\n\nPart of what makes diverse facets of objectivity so fascinating is how they are not always beholden to the traditional ideal of objectivity. Case in point: advocacy journalism. This standard deviates from the traditional norm of impartiality because, in its essence, advocacy journalism is driven by a call for a particular goal and outcome. To accomplish the fulfillment of a specific goal, advocacy requires journalists to “take serious thought and purposeful action” for a cause, as Ida B. Wells emphasized in an effort to mobilize Black journalists to report on lynchings and, as a result, inform citizens and ameliorate racial disparities (Wells “The Requirements of Southern Journalism”). In continuation with Wells’s call to action, Black journalists created their own newspapers to adequately educate others on racial issues, specifically those pertaining to Black and African Americans within the United States. In the wake of protests related to racially-motivated attacks and murders of these individuals, such newspapers have used their platform to promote equality, equity, and justice for Black and African American citizens. \nFor example, The Los Angeles Sentinel, a weekly-African American newspaper, published two separate articles on events occurring in the summer of 2020. In one piece, the Sentinel News Service used the Los Angeles mayor, Eric Garcetti’s, remarks as a vehicle to encourage participation in ongoing protests, stating, “The Mayor’s announcement shows us all why we must keep pushing and why Angelenos must keep speaking out and showing up for Black lives. We must keep going until we tear down this wall [of disinvestment] completely.” (Sentinel News Service “Statement on Mayor Garcetti’s Announcements During Ongoing Protests”). In another, Executive Publisher Danny Bakewell, Sr. echoed similar sentiments while simultaneously cautioning readers on the dangers of protesting during the COVID-19 pandemic, saying, “..we cannot now risk destroying our city or our health by engaging in activities which put our community or our lives in jeopardy...Let’s be smart, let’s be safe and let’s keep the faith and please VOTE, VOTE, VOTE!!” (Bakewell Statement from the Executive Publisher on Death and Protest of George Floyd). \nAs illustrated in these excerpts of reported news, these advocacy journalists have redefined objectivity by urging readers to engage in protests and vote while simultaneously reporting on the statistics and other facts that accompany stories. In addition to fulfilling the role of advocates, these journalists help bring together members of the Black/African American community, as ethnic newspapers did in times of crisis. As scholar Leara D. Rhodes described, “Racism prompted the development of ethnic media.” (Rhodes 47-48). Just as lynchings prompted Ida B. Wells to pursue advocacy journalism, protests, both past and present, have led to the formation of newspapers, like The Los Angeles Sentinel, that amplify Black/African American voices while encouraging change through connection with consumers. \nDespite serving these functions, advocacy journalism has its limitations. For instance, although they appeal to American citizens, newspapers that prioritize advocacy tend to be of a smaller scale. As a result, they may suffer in their ability to consistently reach and influence policymakers who hold power to enact official reform. Progress through individual citizens holds the risk of being lengthy and more miniscule than high-profile reporters on FOX News or CNN. \n\n\n\nIn a similar vein as advocacy journalism, the standard of campaign journalism operates within the framework of impartiality. While it shares the goal of advocating attention to a particular problem, campaign journalism does not require journalists to call action towards said problem. As sociologist Rodney Benson described, campaign journalism requires reporters “to focus their energies..on alerting the public to the most important events and issues of the day” instead of “allowing an autocratic-styled president to set the news agenda” (Benson 213). This standard of objectivity and coverage focuses on continued analysis of an issue both the public and the press deem appropriate, like racial justice and related protests. In addition to ongoing broadcasting of these events in the summer of 2020, journalists concentrated on the actions of politicians and political parties in response to racial injustice so they sustain ” reporting—-and repeating—-the truth” (Benson 214). \nTake, for example, New York Times journalist Astead W. Herndon, who analyzed a discrepancy between elected Democrats’ actions and public demands for reforming systemic racism in the weeks after the murder of George Floyd. He writes, “activists are saying they’re worried that politicians are using the language of systemic reform but stopping short of the more radical policies to address it, such as redirecting funding from law enforcement to housing and education” (Herndon “For George Floyd’s Mourners, What Does ‘Justice’ Mean?”). Instead of simply moving from one beat to the next, Herndon’s article engages in sustained coverage of racial justice and reform as it enters the rhetoric of policy-making politicians, specifically those in the Democratic party. \nSimilarly, additional New York Times journalists coupled news of activism with the actions of politicians, like current Vice President Kamala Harris. In August 2020, they wrote, “Since becoming California’s attorney general in 2011, she had largely avoided intervening in cases involving killings by the police. Protesters in Oakland distributed fliers saying:”Tell California Attorney General Kamala Harris to prosecute killer cops! It’s her job!“’ (Hakim et al.”‘Top Cop’ Kamala Harris’s Record of Policing the Police”). Characteristic of the tenets of campaign journalism outlined by scholars, such as Benson, these journalists continuously reported on a movement—-even in the months after Black Lives Matter and accompanying protests initially swept the nation—-because it affects numerous American citizens. Furthermore, by relaying the facts behind Harris’s inaction, they provided valuable material to the public so they remained well-informed and educated on a candidate. \nWhile Herndon and additional journalists prioritized objectivity and impartiality in their reporting of the Democratic party and its politicians, they continued to serve the public by acting as watchdogs. In doing so, these journalists allowed readers to fully understand and develop their thoughts on the bigger issues at hand in the 2020 presidential election and the country as a whole. Despite these benefits, however, campaign journalism becomes limited when this sustained coverage takes away from the dissemination of other, important news. While the public may become well-versed in the activist agendas of certain political figures, their knowledge of additional domains may diminish, resulting in an ill-informed community. \n\n\n\nWhile the branches of advocacy and campaign journalism emphasize how journalists may adapt their style of reporting to the dynamic nature of what is being covered, a separate approach—-scientific-like objectivity—-prioritizes the circulation of undiluted facts to quell misinterpretation. Famed writer Walter Lippmann highlighted this standard and its goal, saying, “I try to indicate that the perplexities of government and industry are conspiring to give political science this enormous opportunity to enrich itself and serve the public” (Lippmann 32).\nIn contrast with American philosopher John Dewey, who viewed “the role of experts as ancillary to that of citizens,” (Dewey and Rogers 30) Lippmann argues that the publication of facts and figures from research centers—-rather than citizens—-eases confusion created by “pseudo environments,” or the perceptions beholden by individuals due to their unique experiences. \nThis proliferation of data can be seen even in the light of social, not technological events, like the police brutality that prompted protests across the United States. For instance, The Washington Post instructed journalists to create and contribute to databases that gather statistical information regarding racial groups affected by police brutality. Accompanying these figures are analysis paragraphs by journalists, so the research is not inaccessible to ordinary citizens, curbing one of Dewey’s fears. One such paragraph explains the inordinate percentage of attacks against Black Americans, stating, “Although half of the people shot and killed by police are White, Black Americans are shot at a disproportionate rate. They account for less than 13 percent of the U.S. population, but are killed by police at more than twice the rate of White Americans” (Tate et al. “Fatal Force: Police shootings Database”). Not only do these databases reach the goal of empiricism and visible evidence through graphs that reflect data from research centers, but they also implement links to further reliable sources. The combination of these actions results in the propagation of a factual, impartial standard of objectivity. \nInstead of falling prey to partisanship or misinformation, the professionalization of journalists and the introduction of more scientific data journalism may ward off the infiltration of propaganda within the news. In conjunction with this, data journalism’s reliance on certainty reduces the risk that “the news consumer may accuse both the reporter and the news organization of bias,” a concern outlined by scholar Gaye Tuchman (Tuchman 665). However, data journalism still brings some limitations, one being alienation from issues. While statistics and other pieces of factual information are useful for visualizing material, they prevent readers from accessing discussions, quotes, and other facets of traditional reporting that allow citizens to understand issues and form opinions on them. \n\n\n\nThe approaches of advocacy journalism, campaign journalism, and scientific-like objectivity all offer unique perspectives and advantages to the field of reporting, as exemplified in theoretical and philosophical pieces by scholars and excerpts from published articles. While some argue that one method of writing takes precedence over others, it is clear that all three are equally valuable and necessary in today’s society. Advocacy and campaign journalism demonstrate pressing issues directly to readers, with advocacy prompting important social change and campaign promoting literacy on public or political affairs. Offering empirical knowledge, scientific-like objectivity presents direct, factual evidence to citizens so they do not fall prey to misinformation and bias within the media. These approaches play off of each other within articles, like those published during and after racial justice protests, in order to enrich the sphere of journalism and those who consume it. \n\n\n\nBakewell, Danny. “Statement from the Executive Publisher on Death and Protest of George Floyd.” Los Angeles Sentinel, Los Angeles Sentinel, 11 June 2020, lasentinel.net/179124.html. \nBenson, Rodney. “The Case for Campaign Journalism.” Trump and the Media, by Pablo J. Boczkowski and Zizi Papacharissi, The MIT Press, 2018, pp. 213–214. \n“Chapter Four / Press Functions.” The Ethnic Press: Shaping the American Dream, by Leara D Rhodes, P. Lang, 2010, pp. 47–48. \nDewey, John, and Melvin L. Rogers. “The Public and Its Problems: an Essay in Political Inquiry.” The Public and Its Problems: An Essay in Political Inquiry, Swallow Press, 2016, pp. 30–30. \nHakim, Danny, et al. “‘Top Cop’ Kamala Harris’s Record of Policing the Police.” The New York Times, The New York Times, 9 Aug. 2020, www.nytimes.com/2020/08/09/us/politics/kamala-harris-policing.html?searchResultPosition=1. \nHerndon, Astead  W. “For George Floyd’s Mourners, What Does ‘Justice’ Mean?” The New York Times, The New York Times, 12 June 2020, www.nytimes.com/2020/06/12/us/politics/george-floyd-racial-justice.html?searchResultPosition=20. \nSentinel News Service. “Statement on Mayor Garcetti’s Announcements During Ongoing Protests.” Los Angeles Sentinel, Los Angeles Sentinel, 4 June 2020, lasentinel.net/statement-on-mayor-garcettis-announcements-during-ongoing-protests.html\nTate, Julie, et al. “Fatal Force: Police Shootings Database.” The Washington Post, WP Company, 22 Jan. 2020, www.washingtonpost.com/graphics/investigations/police-shootings-database/. \n“The World Outside and the Pictures in Our Heads.” Public Opinion, by Walter Lippmann, CPSIA, 2019, pp. 32–32. \nTuchman, Gaye. “Objectivity as Strategic Ritual: An Examination of Newsmen’s Notions of Objectivity.” American Journal of Sociology, vol. 77, no. 4, 1972, pp. 660–679. JSTOR, www.jstor.org/stable/2776752. Accessed 22 Mar. 2021.\nWells, Ida B. The Requirements of Southern Journalism. 16 Jan. 2020, commonreader.wustl.edu/c/the-requirements-of-southern-journalism/.\n\n\n\n\nThis is a paper I wrote examining the issue of discrimination in and out of the workplace for Black and African Americans in the US. I presented my findings at the Spring 2021 University Writing and Research Conference.\nYou can read about the conference and my abstract here.\nYou can see my paper here."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Riya Sharma",
    "section": "",
    "text": "Hello! My name is Riya Sharma, and I am currently a student at The George Washington University pursuing a double major in Political Science and Data Science with a minor in Journalism and Mass Communication. I am interested in the intersection between data science and politics, especially in regards to policy analysis and both domestic and international policymaking regarding Indigenous peoples, women and girls, and their rights.\nIn my free time, I enjoy biking, learning languages, and exploring D.C!"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Riya Sharma",
    "section": "Education",
    "text": "Education\nThe George Washington University:\nCandidate for BS in Data Science and Political Science (Public Policy Focus), minor in Journalism and Mass Communications"
  },
  {
    "objectID": "index.html#skills",
    "href": "index.html#skills",
    "title": "Riya Sharma",
    "section": "Skills",
    "text": "Skills\nData Analysis\nResearch\nVerbal and Written Communication\nReporting and News Writing"
  },
  {
    "objectID": "01_virginia_election_project_datawrangling.html",
    "href": "01_virginia_election_project_datawrangling.html",
    "title": "Virginia Election Project",
    "section": "",
    "text": "Data available here: https://historical.elections.virginia.gov/elections/view/144567/\nA little column cleaning and we’ll load in the data file.\n\nprez_2020 <- read_csv(\"processed_data/va_2020_prez_cleaned.csv\")\n\nRows: 134 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): locality\nnum (3): biden, trump, total_votes_2021_prez\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nLet’s see what we have\n\nhead(prez_2020) \n\n# A tibble: 6 × 4\n  locality         biden trump total_votes_2021_prez\n  <chr>            <dbl> <dbl>                 <dbl>\n1 Accomack County   7578  9172                 16962\n2 Albemarle County 42466 20804                 64657\n3 Alexandria City  66240 14544                 82508\n4 Alleghany County  2243  5859                  8203\n5 Amelia County     2411  5390                  7893\n6 Amherst County    5672 11041                 17005\n\n\nCalculating percentage of the vote\n\nprez_2020 %>% \n  mutate(\n    biden_pct = biden/total_votes_2021_prez\n  )\n\n# A tibble: 134 × 5\n   locality           biden trump total_votes_2021_prez biden_pct\n   <chr>              <dbl> <dbl>                 <dbl>     <dbl>\n 1 Accomack County     7578  9172                 16962     0.447\n 2 Albemarle County   42466 20804                 64657     0.657\n 3 Alexandria City    66240 14544                 82508     0.803\n 4 Alleghany County    2243  5859                  8203     0.273\n 5 Amelia County       2411  5390                  7893     0.305\n 6 Amherst County      5672 11041                 17005     0.334\n 7 Appomattox County   2418  6702                  9268     0.261\n 8 Arlington County  105344 22318                130699     0.806\n 9 Augusta County     10840 30714                 42278     0.256\n10 Bath County          646  1834                  2501     0.258\n# … with 124 more rows\n\n\nNow let’s do some rounding and move that decimal point\n\nprez_2020 %>% \n  mutate(\n    biden_pct = janitor::round_half_up(biden / total_votes_2021_prez * 100, 1)\n  )\n\n# A tibble: 134 × 5\n   locality           biden trump total_votes_2021_prez biden_pct\n   <chr>              <dbl> <dbl>                 <dbl>     <dbl>\n 1 Accomack County     7578  9172                 16962      44.7\n 2 Albemarle County   42466 20804                 64657      65.7\n 3 Alexandria City    66240 14544                 82508      80.3\n 4 Alleghany County    2243  5859                  8203      27.3\n 5 Amelia County       2411  5390                  7893      30.5\n 6 Amherst County      5672 11041                 17005      33.4\n 7 Appomattox County   2418  6702                  9268      26.1\n 8 Arlington County  105344 22318                130699      80.6\n 9 Augusta County     10840 30714                 42278      25.6\n10 Bath County          646  1834                  2501      25.8\n# … with 124 more rows\n\n\nNow trump too\n\nprez_2020 <- prez_2020 %>% \n  mutate(\n    biden_pct = janitor::round_half_up(biden / total_votes_2021_prez * 100, 2),\n    trump_pct = janitor::round_half_up(trump / total_votes_2021_prez * 100, 2)\n  )\n\nhead(prez_2020)\n\n# A tibble: 6 × 6\n  locality         biden trump total_votes_2021_prez biden_pct trump_pct\n  <chr>            <dbl> <dbl>                 <dbl>     <dbl>     <dbl>\n1 Accomack County   7578  9172                 16962      44.7      54.1\n2 Albemarle County 42466 20804                 64657      65.7      32.2\n3 Alexandria City  66240 14544                 82508      80.3      17.6\n4 Alleghany County  2243  5859                  8203      27.3      71.4\n5 Amelia County     2411  5390                  7893      30.6      68.3\n6 Amherst County    5672 11041                 17005      33.4      64.9"
  },
  {
    "objectID": "01_virginia_election_project_datawrangling.html#reshaping",
    "href": "01_virginia_election_project_datawrangling.html#reshaping",
    "title": "Virginia Election Project",
    "section": "Reshaping",
    "text": "Reshaping\nEnter pivot_wider().\nWe’ll get rid of everything we don’t need first.\n\ngov_2021 <- gov_2021 %>% \n  filter(ballot_name %in% c(\"Glenn A. Youngkin\", \"Terry R. McAuliffe\")) %>% \n  select(-locality_code,\n         -political_party)\n  \ngov_2021\n\n# A tibble: 266 × 4\n   locality_name    ballot_name        votes percentage\n   <chr>            <chr>              <int> <chr>     \n 1 ACCOMACK COUNTY  Glenn A. Youngkin   7878 61.08%    \n 2 ACCOMACK COUNTY  Terry R. McAuliffe  4948 38.37%    \n 3 ALBEMARLE COUNTY Glenn A. Youngkin  19141 37.21%    \n 4 ALBEMARLE COUNTY Terry R. McAuliffe 31919 62.05%    \n 5 ALEXANDRIA CITY  Glenn A. Youngkin  14013 24.02%    \n 6 ALEXANDRIA CITY  Terry R. McAuliffe 43866 75.20%    \n 7 ALLEGHANY COUNTY Glenn A. Youngkin   4530 74.52%    \n 8 ALLEGHANY COUNTY Terry R. McAuliffe  1518 24.97%    \n 9 AMELIA COUNTY    Glenn A. Youngkin   4720 74.19%    \n10 AMELIA COUNTY    Terry R. McAuliffe  1617 25.42%    \n# … with 256 more rows\n\n\nNow we’ll do the spreading out to reshape.\n\ngov_2021_wide <- gov_2021 %>% \n  pivot_wider(names_from = ballot_name, values_from = c(votes, percentage))\n\ngov_2021_wide\n\n# A tibble: 133 × 5\n   locality_name     `votes_Glenn A. Youngkin` votes_Terry R. …¹ perce…² perce…³\n   <chr>                                 <int>             <int> <chr>   <chr>  \n 1 ACCOMACK COUNTY                        7878              4948 61.08%  38.37% \n 2 ALBEMARLE COUNTY                      19141             31919 37.21%  62.05% \n 3 ALEXANDRIA CITY                       14013             43866 24.02%  75.20% \n 4 ALLEGHANY COUNTY                       4530              1518 74.52%  24.97% \n 5 AMELIA COUNTY                          4720              1617 74.19%  25.42% \n 6 AMHERST COUNTY                         9731              3897 71.00%  28.43% \n 7 APPOMATTOX COUNTY                      5971              1438 80.26%  19.33% \n 8 ARLINGTON COUNTY                      21548             73013 22.63%  76.67% \n 9 AUGUSTA COUNTY                        26196              7231 77.93%  21.51% \n10 BATH COUNTY                            1539               396 79.04%  20.34% \n# … with 123 more rows, and abbreviated variable names\n#   ¹​`votes_Terry R. McAuliffe`, ²​`percentage_Glenn A. Youngkin`,\n#   ³​`percentage_Terry R. McAuliffe`\n\n\nNice.\nThis is giving us some pretty long column names. we can change them after the fact using rename(). But first let’s clean the names to make it easier.\n\ngov_2021_wide <- gov_2021_wide %>% \n  clean_names()\n\nhead(gov_2021_wide)\n\n# A tibble: 6 × 5\n  locality_name    votes_glenn_a_youngkin votes_terry_r_mc_aul…¹ perce…² perce…³\n  <chr>                             <int>                  <int> <chr>   <chr>  \n1 ACCOMACK COUNTY                    7878                   4948 61.08%  38.37% \n2 ALBEMARLE COUNTY                  19141                  31919 37.21%  62.05% \n3 ALEXANDRIA CITY                   14013                  43866 24.02%  75.20% \n4 ALLEGHANY COUNTY                   4530                   1518 74.52%  24.97% \n5 AMELIA COUNTY                      4720                   1617 74.19%  25.42% \n6 AMHERST COUNTY                     9731                   3897 71.00%  28.43% \n# … with abbreviated variable names ¹​votes_terry_r_mc_auliffe,\n#   ²​percentage_glenn_a_youngkin, ³​percentage_terry_r_mc_auliffe\n\n\nNow let’s rename, and we’ll use similar names to what we had earlier in our 2021 results.\n\ngov_2021_wide <- gov_2021_wide %>% \n  rename(\n    youngkin = votes_glenn_a_youngkin,\n    mcauliffe = votes_terry_r_mc_auliffe,\n    pct_youngkin = percentage_glenn_a_youngkin,\n    pct_mcauliffe = percentage_terry_r_mc_auliffe\n  )\n\nhead(gov_2021_wide)\n\n# A tibble: 6 × 5\n  locality_name    youngkin mcauliffe pct_youngkin pct_mcauliffe\n  <chr>               <int>     <int> <chr>        <chr>        \n1 ACCOMACK COUNTY      7878      4948 61.08%       38.37%       \n2 ALBEMARLE COUNTY    19141     31919 37.21%       62.05%       \n3 ALEXANDRIA CITY     14013     43866 24.02%       75.20%       \n4 ALLEGHANY COUNTY     4530      1518 74.52%       24.97%       \n5 AMELIA COUNTY        4720      1617 74.19%       25.42%       \n6 AMHERST COUNTY       9731      3897 71.00%       28.43%       \n\n\nBingo.\nThere’s still one potential issue here. Can you see it?\nThe percentage columns are actually text values, not numbers. And they have that % sign in the text too. Let’s fix that using a handy function from the readr package, parse_number().\n\ngov_2021_wide <- gov_2021_wide %>% \n  mutate(\n    pct_youngkin = readr::parse_number(pct_youngkin),\n    pct_mcauliffe = readr::parse_number(pct_mcauliffe)\n  )\n\nhead(gov_2021_wide)\n\n# A tibble: 6 × 5\n  locality_name    youngkin mcauliffe pct_youngkin pct_mcauliffe\n  <chr>               <int>     <int>        <dbl>         <dbl>\n1 ACCOMACK COUNTY      7878      4948         61.1          38.4\n2 ALBEMARLE COUNTY    19141     31919         37.2          62.0\n3 ALEXANDRIA CITY     14013     43866         24.0          75.2\n4 ALLEGHANY COUNTY     4530      1518         74.5          25.0\n5 AMELIA COUNTY        4720      1617         74.2          25.4\n6 AMHERST COUNTY       9731      3897         71            28.4\n\n\nPerfect. Problem solved."
  },
  {
    "objectID": "01_virginia_election_project_datawrangling.html#comparing-gov-vs.-prez-results",
    "href": "01_virginia_election_project_datawrangling.html#comparing-gov-vs.-prez-results",
    "title": "Virginia Election Project",
    "section": "Comparing gov vs. prez results",
    "text": "Comparing gov vs. prez results\nNow that things are join, let’s actually go ahead and start making columns to compare the two elections and how the candidates did this time compared with last time.\nWhere should we go from here….? Give it a shot…\n\njoined_vacomparison %>%\n  mutate(\n    mc_overperform = pct_mcauliffe - biden_pct,\n    dem_gov_margin = pct_mcauliffe - pct_youngkin,\n    rep_gov_margin = pct_youngkin - pct_mcauliffe,\n    dem_pres_margin = biden_pct - trump_pct,\n    rep_pres_margin = trump_pct - biden_pct\n  )\n\n# A tibble: 133 × 14\n   locality  biden trump biden…¹ trump…² young…³ mcaul…⁴ pct_y…⁵ pct_m…⁶ mc_ov…⁷\n   <chr>     <dbl> <dbl>   <dbl>   <dbl>   <int>   <int>   <dbl>   <dbl>   <dbl>\n 1 ACCOMAC…   7578  9172    44.7    54.1    7878    4948    61.1    38.4   -6.31\n 2 ALBEMAR…  42466 20804    65.7    32.2   19141   31919    37.2    62.0   -3.63\n 3 ALEXAND…  66240 14544    80.3    17.6   14013   43866    24.0    75.2   -5.08\n 4 ALLEGHA…   2243  5859    27.3    71.4    4530    1518    74.5    25.0   -2.37\n 5 AMELIA …   2411  5390    30.6    68.3    4720    1617    74.2    25.4   -5.13\n 6 AMHERST…   5672 11041    33.4    64.9    9731    3897    71      28.4   -4.92\n 7 APPOMAT…   2418  6702    26.1    72.3    5971    1438    80.3    19.3   -6.76\n 8 ARLINGT… 105344 22318    80.6    17.1   21548   73013    22.6    76.7   -3.93\n 9 AUGUSTA…  10840 30714    25.6    72.6   26196    7231    77.9    21.5   -4.13\n10 BATH CO…    646  1834    25.8    73.3    1539     396    79.0    20.3   -5.49\n# … with 123 more rows, 4 more variables: dem_gov_margin <dbl>,\n#   rep_gov_margin <dbl>, dem_pres_margin <dbl>, rep_pres_margin <dbl>, and\n#   abbreviated variable names ¹​biden_pct, ²​trump_pct, ³​youngkin, ⁴​mcauliffe,\n#   ⁵​pct_youngkin, ⁶​pct_mcauliffe, ⁷​mc_overperform\n\n# mc_overperform_worsethan5 ="
  },
  {
    "objectID": "portfolio.html",
    "href": "portfolio.html",
    "title": "Portfolio",
    "section": "",
    "text": "In my News Writing and Reporting class, I wrote a story about the experience of international students studying during virtual school in the 2020-2021 academic year at GW.\n_________________________________________________\nRemote learning proves challenging for international students at The George Washington University\nIn Dubai, GW freshman Nour Ellahham goes to sleep at 5 a.m. and wakes up at 10 a.m. Gulf Standard Time to attend classes. One and a half hours ahead of her in Hyderabad, Ajay Uppaluri “passes out” after completing schoolwork from 4:30 a.m. to 10 a.m. Indian Standard Time.  \nMore than a year into the COVID-19 pandemic, students and faculty at GWU are still confronting the challenges of virtual learning. For international students, the pressure of managing work is compounded by studying in sometimes opposite time zones. While they struggle to socialize and submit assignments, international students try to adapt alongside professors who work to accommodate their schedules.\nEllahham, a freshman majoring in political science at GWU, began her first year of college in Dubai instead of Washington, D.C, where the university is located.\n“If I could describe my online learning experience in one word, I would definitely say frustrating,” Ellahham said.\nOne of about 4,000 international students at the university, Ellahham restructured her entire schedule to attend five classes a week, all of which are synchronous, or live.\n“I don’t really have a routine anymore. It’s confusing when my brain is in Eastern Standard Time, but my body is in Gulf Standard Time. I never know when I should be working or sleeping,” Ellahham said.\nInternational students’ challenges go beyond academics. In addition to managing 16 credits this semester, Ellahham has experienced difficulty engaging in student life. Because meetings conflict with her schedule, she has not been able to join GW UNICEF, GW College Democrats, or other organizations she finds interesting.  \n“It was really, really hard for me to not join a student org. I wanted to get involved, but I am also trying to get through school on top of balancing a lot of external life responsibilities,” Ellahham said.\nUppaluri, a sophomore majoring in political science at GWU, traded campus life for family life after moving back to India from the United States. Although he now lives with his parents, Uppaluri follows Eastern Standard Time to attend synchronous classes, making it hard for him to interact with family daily.\n“I’m spending more time with them than before, but it’s not as much as I want to,” Uppaluri said.\nAfter studying throughout the week, Uppaluri can only visit his grandparents on Saturday and spend time relaxing with his cousins on Sunday. However, because he spends his entire weekend with family, Uppaluri cannot catch up on the sleep he needs to continue pulling all-nighters.\n“I don’t have balance. I push myself…It’s this weird middle ground, which is not fun. I don’t enjoy it,” Uppaluri said.\nFewer international students are attending U.S. schools because of the pandemic and the challenge of online learning. The enrollment of new international students into U.S. institutions fell 43% from 2019, according to a survey conducted by the Institute of International Education.\nTo maintain participation among enrolled international students, professors at GWU have made adjustments to accommodate their unique schedules. While some conduct synchronous lectures, others give international students the option to learn asynchronously, or on their own time.  \nDr. Efrat Nechushtai, an assistant professor in GWU’s School of Media and Public Affairs, records live lectures for international students in different time zones to watch asynchronously. To facilitate engagement with course material, Nechushtai requires these students to communicate what they’ve learned and don’t understand in one page.\n“I wanted to make sure that the course is flexible and that they [international students] have this choice to take and engage with the course in any way that is most suitable for their current situation,” Nechushtai said.\nIn addition to individual course adjustments, professors have access to FLEX Camp workshops held by GWU Libraries and Academic Innovation. These two-day boot camps offer professors a comprehensive guide on designing courses for remote teaching. With over 10 workshops in summer and more throughout the year, educators can discover new ways to accommodate international students learning online.\n“Any professor at GWU has access to many different kinds of programs to help think about how to make the transition [to remote teaching] in the best, most effective way possible,” Nechushtai said.\nInternational students praised the accommodations professors have provided.\n“I have all of these things to be grateful for. I have great professors who have been trying so hard to make remote learning manageable for me,” Ellahham said.\nUppaluri offered advice to other international GWU students learning virtually. “Try to manage your time as much as you can and speak to your professors. They are super understanding and want to help you,” Uppaluri said.\n\n\n\n\nAs an intern for the Borgen Project, an organization dedicated to ending global poverty, I wrote articles for both Borgen Magazine and the Borgen Project’s blog on global issues and efforts being made to eradicate poverty in various countries.\n\nThe Impact of COVID-19 on Poverty in Mongolia\nHow Children of Vietnam Helps Fight Poverty\nHouse Resolution Hopes to Fight COVID-19 and Poverty in Africa\nThe RENACER Act is Supporting Human Rights in Nicaragua\nHow Organizations are Fighting the Education Crisis in Yemen\nHow Sen. Cory Booker is Supporting Women in Developing Countries\n4 Organizations Helping Women in Asia\nThe Impact of COVID-19 on Poverty in Afghanistan"
  }
]